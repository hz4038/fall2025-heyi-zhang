:root{
  --bg:#f7f8fb;
  --card:#ffffff;
  --ink:#1a1f36;
  --muted:#667085;
  --brand:#4f46e5;
  --accent:#10b981;
  --border:#e5e7eb;
  --chip:#eef2ff;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--ink);background:var(--bg);}
a{color:var(--brand);text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:1040px;margin:0 auto;padding:24px}
.hidden{display:none}

header.site{
  background:linear-gradient(180deg, #ffffff, #f4f5fb 80%);
  border-bottom:1px solid var(--border);
}
.brand{display:flex;align-items:center;gap:12px}
.brand .logo{width:36px;height:36px;border-radius:10px;background:var(--brand); display:inline-block}
.brand h1{font-size:20px;margin:0}
nav.primary{
  display:flex;gap:14px;flex-wrap:wrap;margin-top:12px
}
nav.primary a{
  padding:10px 12px;border-radius:10px;background:#fff;border:1px solid var(--border);color:var(--ink);font-weight:500
}
nav.primary a[aria-current="page"]{background:var(--brand);color:#fff;border-color:var(--brand)}
main{padding:24px 0}
.section-title{font-size:20px;margin:8px 0 16px}

.grid{display:grid;gap:16px}
.grid.cols-2{grid-template-columns:repeat(2, minmax(0,1fr))}
.grid.cols-3{grid-template-columns:repeat(3, minmax(0,1fr))}
@media (max-width: 900px){ .grid.cols-3{grid-template-columns:1fr 1fr} }
@media (max-width: 720px){
  .grid.cols-2,.grid.cols-3{grid-template-columns:1fr}
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
  box-shadow:0 2px 6px rgba(16,24,40,.04);
}
.card h3{margin:0 0 8px 0;font-size:16px}
.small{font-size:12px;color:var(--muted)}
.kpis{display:flex;gap:12px}
.kpi{flex:1;background:var(--card);border:1px solid var(--border);border-radius:14px;padding:12px;text-align:center}
.kpi .value{font-weight:700;font-size:20px}
.progressbar{height:8px;background:#edf1f7;border-radius:999px;overflow:hidden;border:1px solid var(--border)}
.progressbar > span{display:block;height:100%;background:var(--accent);width:40%}

.chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.chip{font-size:12px;background:var(--chip);border:1px solid #c7d2fe;color:#4338ca;padding:4px 8px;border-radius:999px}

.footer-note{color:var(--muted);font-size:13px;margin-top:24px}

/* Tabs via :target */
.tabs{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}
.tabs a{padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:#fff;color:var(--ink)}
.tabs a.active{background:var(--brand);color:#fff;border-color:var(--brand)}
.tab-panel{display:none}
.tab-panel:target{display:block}
.tab-panel.default{display:block}

/* Bottom nav (mobile-like preview) â€“ optional */
.bottom-nav{display:flex;gap:10px;justify-content:space-between;margin-top:24px}
.bottom-nav a{flex:1;text-align:center;padding:10px;border:1px solid var(--border);border-radius:12px;background:#fff;color:var(--ink);font-weight:500}


:root[data-theme="dark"]{
  --bg:#0b1020;
  --card:#0f152a;
  --ink:#e5e7eb;
  --muted:#9aa4b2;
  --brand:#7c87ff;
  --accent:#22d3ee;
  --border:#23304a;
  --chip:#1a2140;
}
@media (prefers-color-scheme: dark){
  :root:not([data-theme="light"]){ 
    --bg:#0b1020; --card:#0f152a; --ink:#e5e7eb; --muted:#9aa4b2;
    --brand:#7c87ff; --accent:#22d3ee; --border:#23304a; --chip:#1a2140;
  }
}
body, .card, nav.primary a, .bottom-nav a, .tabs a{ transition: background-color .25s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease; }

.btn{display:inline-flex;align-items:center;gap:.5rem;background:var(--brand);color:#fff;border:1px solid var(--brand);padding:.6rem .9rem;border-radius:12px;font-weight:600;cursor:pointer}
.btn:hover{filter:brightness(0.96)}
.btn.ghost{background:transparent;color:var(--ink);border-color:var(--border)}
.btn.small{padding:.35rem .6rem;font-size:.85rem;border-radius:10px}

.toolbar{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0 14px}
.toolbar input[type="search"], .toolbar select{
  padding:.55rem .7rem;border:1px solid var(--border);border-radius:10px;background:#fff;min-width:220px;color:var(--ink)
}
:root[data-theme="dark"] .toolbar input[type="search"], :root[data-theme="dark"] .toolbar select{background:#0f152a}

.form .form-row{margin:.5rem 0}
.form input, .form textarea{
  width:100%; padding:.6rem .75rem; border:1px solid var(--border); border-radius:10px; background:#fff; color:var(--ink);
}
:root[data-theme="dark"] .form input, :root[data-theme="dark"] .form textarea{background:#0f152a}

.modal{position:fixed;inset:0;display:none}
.modal.open{display:block}
.modal__backdrop{position:absolute;inset:0;background:rgba(2,6,23,.55);backdrop-filter:blur(2px)}
.modal__dialog{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:var(--card);color:var(--ink);border:1px solid var(--border);border-radius:16px;max-width:640px;width:92%;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.modal__close{position:absolute;right:10px;top:6px;border:none;background:transparent;color:var(--ink);font-size:24px;cursor:pointer}

.toast{position:fixed;right:16px;bottom:16px;background:var(--card);border:1px solid var(--border);box-shadow:0 6px 20px rgba(0,0,0,.18);padding:.7rem 1rem;border-radius:12px}
.toast.hide{display:none}

:focus-visible{outline:3px solid var(--accent);outline-offset:2px;border-radius:8px}
.legend{margin:8px 0}
.star{cursor:pointer;user-select:none;font-size:20px;line-height:1}
.card .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.badge{display:inline-block;border:1px solid var(--border);background:var(--chip);color:#4338ca;border-radius:999px;padding:2px 8px;font-size:12px;margin-left:6px}

/* Motion*/
@media (prefers-reduced-motion: no-preference){
  .card{
    transition: transform .18s ease, box-shadow .25s ease,
                background-color .25s ease, color .25s ease, border-color .25s ease;
  }
  .card:hover{
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(16,24,40,.08);
  }

  main{
    opacity: 0;
    animation: gc-fade-in .35s ease both;
  }
  @keyframes gc-fade-in{
    from{ opacity:0; filter:saturate(.96) }
    to{ opacity:1; filter:saturate(1) }
  }

  .btn{
    transition: transform .12s ease, filter .2s ease,
                background-color .25s ease, color .25s ease, border-color .25s ease;
  }
.btn:active{ transform: translateY(1px) }
}

@media (prefers-reduced-motion: no-preference){
  nav.primary a, .bottom-nav a{
    background-image: linear-gradient(currentColor, currentColor);
    background-size: 0% 2px;
    background-repeat: no-repeat;
    background-position: 10px calc(100% - 6px);
    transition: background-size .18s ease, transform .18s ease, box-shadow .25s ease,
                background-color .25s ease, color .25s ease, border-color .25s ease;
  }
  nav.primary a:hover, nav.primary a:focus-visible,
  .bottom-nav a:hover, .bottom-nav a:focus-visible{
    background-size: calc(100% - 20px) 2px;
    transform: translateY(-1px);
  }

  .chip{ transition: transform .15s ease, box-shadow .25s ease }
  .chip:hover{ transform: translateY(-1px); box-shadow: 0 3px 10px rgba(16,24,40,.06) }

  .tab-panel:target{ animation: fade-slide-up .24s ease both }
  @keyframes fade-slide-up{ from{ opacity:0; transform: translateY(4px) } to{ opacity:1; transform: translateY(0) } }

  .progressbar > span{ transition: width 1.45s ease }

  .modal.open .modal__backdrop{ animation: modal-fade .2s ease both }
  .modal.open .modal__dialog{ animation: modal-pop .22s cubic-bezier(.22,1,.36,1) both }
  @keyframes modal-fade{ from{ opacity:0 } to{ opacity:1 } }
  @keyframes modal-pop{ from{ transform: translate(-50%,-46%) scale(.98); opacity:0 } to{ transform: translate(-50%,-50%) scale(1); opacity:1 } }

  .toast{ animation: slide-in-up .28s ease both }
  @keyframes slide-in-up{ from{ opacity:0; transform: translateY(8px) } to{ opacity:1; transform: translateY(0) } }

  .star{ transition: transform .1s ease }
  .star:active{ transform: scale(.92) }
  .star.filled{ animation: pop .2s ease }
  @keyframes pop{ 0%{ transform: scale(.9) } 100%{ transform: scale(1) } }

  .skeleton, .skeleton-text{
    position: relative;
    overflow: hidden;
    background: linear-gradient(90deg, #e5e7eb 25%, #f3f4f6 37%, #e5e7eb 63%);
    background-size: 400% 100%;
    color: transparent;
  }
  :root[data-theme="dark"] .skeleton, :root[data-theme="dark"] .skeleton-text{
    background: linear-gradient(90deg, #1f2937 25%, #374151 37%, #1f2937 63%);
    background-size: 400% 100%;
  }
  .skeleton{ border-radius:12px; min-height: 10px }
  .skeleton-text{ border-radius:6px; line-height:1; min-height: .9rem }
  .skeleton::after, .skeleton-text::after{
    content:""; position:absolute; inset:0; animation: shimmer 1.1s linear infinite;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
    mix-blend-mode: overlay;
  }
  @keyframes shimmer{ from{ background-position: -200% 0 } to{ background-position: 200% 0 } }
}
